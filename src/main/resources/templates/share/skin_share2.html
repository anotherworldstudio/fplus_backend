<!DOCTYPE html>
<html lagn="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/share">

<th:block layout:fragment="content">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>	
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" 
  integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" 
  crossorigin="anonymous"></script>
<script>
	
	var appSchem   = 'labellelabbj://dplinkaisikin';
	var marketAddr = 'https://play.google.com/store/apps/details?id=com.beautyjourney.beautageapp.android';

	function goApp(){
		var device = checkDevice();
		if(device!="pc"){
			if(device == "ios"){
				alert("iOS App은 개발중입니다.");
				return;
			}else{
				isMyApp();		
				location.href = appSchem;		
			}
		}		
	}
	
	function isMyApp(){
		function clearTimers(){
	        clearInterval(heartbeat);
	        clearTimeout(timer);
	    }

	    function intervalHeartbeat(){
	        if(document.webkitHidden || document.hidden){
	            clearTimers();
	            //console.log('앱이 설치 되어 있습니다.');
	        }
	    }
	    
	    heartbeat = setInterval(intervalHeartbeat, 200);
	    var deLay = 1000;
	    timer = setTimeout(function() {
	        //console.log('앱이 없습니다.');
			location.href = marketAddr;
	    }, deLay);
	  }
	
	function checkDevice(){
		var os;
		var mobile = (/iphone|ipad|ipod|android/i.test(navigator.userAgent.toLowerCase()));	 
		if (mobile) {
			var userAgent = navigator.userAgent.toLowerCase();
			if (userAgent.search("android") > -1){
				return os = "android";
			}else if ((userAgent.search("iphone") > -1) || (userAgent.search("ipod") > -1) || (userAgent.search("ipad") > -1)){
				return os = "ios";
			}else{
				return os = "otehr";
			}
		} else {
			return os = "pc";
		}
	}

	
</script>
  <form class="form-horizontal form-label-left" th:object=${skinShareView} method="post" id="form1" name="form1" novalidate>
	<div style="width:100%;">
		<div style="padding-top:10px;">
			<div style="background:#ffffff;height:60px;line-height:60px;text-align: center;">				
				<div style="background:#ffffff;height:40px;display: inline-block;vertical-align: middle;">
				<h2 style="font-size: 18px;color: #292726;" ><b th:text="*{title}">2021.02.25 AI 피부분석결과</b>
				</h2>
				</div>
			</div>
		</div>
		<div  style="padding:10px; padding-top:0px;">
		<div style="width:auto;height: 100px;display: flex;flex-direction: column;justify-content: space-around;">
			
			<div style="width:auto;height: 100px;display: flex;flex-direction: row;justify-content: flex-start;padding: 6px;">
				
				<div style="width:100px;height:auto;display: flex;flex-direction: column;justify-content: space-around;">					
					<img style="width: 74px; height: 74px;object-fit: cover;object-position: top;border-radius: 50%;"  
					class='photo0' 
					th:attr="src=*{aiUrl}"
					src="/images/share_img.png" />					
				</div>	
			
<!-- 				<div style="width:100px;height:auto;display: flex;flex-direction: column;justify-content: space-around;">					 -->
<!-- 						<img src="/images/share_img.png" style="width: 72px;height:71px;">					 -->
<!-- 				</div>	 -->
				
				<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: space-evenly;padding-left: 4px;">
					<div style="font-size: 16px;color: #292726;"><b th:text="*{userName}">누구누구</b><b> 님</b></div>
					<div style="font-size: 12px;color: #878787;" th:text="*{lowerPer}">또래 사용자 80%보다 피부가 좋아요</div>
					<div style="font-size: 12px;color: #878787;">
					<b style="font-size: 12px;color: #292726;">총점</b>
					<b style="font-size: 12px;color: #292726;" th:text="*{totalScore}">80</b>점/100점
					</div>
				</div>
			</div>
		</div>

        <span class="section"></span>
        
		<div style="width:auto;height: 60px;display: flex;flex-direction: column;justify-content: space-around;">
			
			<div style="width:auto;height: 60px;display: flex;flex-direction: row;justify-content: flex-start;">
			
<!-- 				<div style="width:140px;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> -->
<!-- 					<div style="font-size: 12px;color: #878787;"> -->
<!-- 						MY SKIN -->
<!-- 					</div>					 -->
<!-- 				</div>	 -->
				
				<div style="width:100%;height:auto;display: flex;flex-direction: column;justify-content: flex-start;">				
					<div style="width:auto;height:auto;display: flex;flex-direction: row;justify-content: space-around;">
<!-- 						<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: space-around;">							 -->
<!-- 							<div style="font-size: 16px;color: #292726;margin-bottom: 6px;text-align: center;"> -->
<!-- 								<b th:text="*{realAge}">24</b><b>세</b>							 -->
<!-- 							</div> -->
							
<!-- 							<div style="font-size: 12px;color: #878787;text-align: center;">실제나이</div> -->
<!-- 						</div> 	 -->
<!-- 						<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: space-around;">							 -->
<!-- 							<div style="font-size: 16px;color: #292726;margin-bottom: 6px;text-align: center;"> -->
<!-- 								<b th:text="*{skinAge}">24</b><b>세</b>							 -->
<!-- 							</div> -->
							
<!-- 							<div style="font-size: 12px;color: #878787;text-align: center;">피부나이</div> -->
<!-- 						</div> 	 -->
						<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: space-around;">							
							<div style="font-size: 16px;color: #292726;margin-bottom: 6px;text-align: center;"><b>상위 </b><b th:text="*{upperPer}">20</b><b>%</b></div>							
							<div style="font-size: 12px;color: #878787;text-align: center;">랭킹</div>
						</div>
					</div>
				</div>	
			</div>
		</div>
		
		<span class="section"></span>
		
		<div>
			<div style="text-align: left;">
				<h2>
					<b style="font-size: 15px;color: #292726;">SKIN SCORE</b>
				</h2>
			</div>
<!-- 			<div style="font-size: 12px;color: #878787;text-align: left;margin-bottom: 15px;" th:text="*{comment}"> -->
<!-- 			전반적으로 당신의 피부는 양호한 상태! 하지만 피쿠케어에 늘 관심을 가지고 꾸준히 케어를 해 주시면 좋아요. -->
<!-- 			</div> -->
		</div>
		
		
       <div style="width:100%;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> 
       <div style="margin:0 auto; margin-bottom:40px;" >
 			 <canvas id="myChart"  width="280" height="280" >
 		     </canvas>
       </div>
		</div>
		<script>
		/*<![CDATA[*/
		var wrinkle = "[[${skinShareView.wrinkle}]]";
		var pigment = "[[${skinShareView.pigment}]]";
		var trouble = "[[${skinShareView.trouble}]]";
		var pore = "[[${skinShareView.pore}]]";
		var redness = "[[${skinShareView.redness}]]";
		/*]]>*/
	
		var ctx = document.getElementById('myChart').getContext('2d');	
		var options = {	
			legend:{
					display:false
			},
			responsive: false,
		 	showLine: false,
		 	 
			scale: {
		        gridLines:{
		        	color : '#000000',
		        	lineWidth : 1,
		        	drawTicks : true
		        },
		        angleLines: {
		            display: true,
		            color : '#000000',
		            lineWidth : 1	            
		        },
		        pointLabels:{
		        	fontSize : 17,
		        	fontColor : '#000000'
		        },
		        ticks: {		        	
		        	display : false,
		        	backdropColor : 'rgba(0, 0, 0, 0.0)',
		        	stepSize : 20,
		        	showLabelBackdrop : false,
		        	suggestedMin: 50,
		            suggestedMax: 100,
		            fontColor : '#262626',
		            lineHeight : 0,
		        }
		    },
		    
		};
		var data = {	 
		labels : ['주름', '색소침착', '트러블', '모공','홍조'],
	    datasets : [{
	    	label : '',
	    	pointRadius : 0,
	    	
	    	backgroundColor: 'rgba(203, 185, 253, 0.8)',
	    	data: [wrinkle, pigment, trouble, pore,redness]
	    }]
	};
	
	
	var myRadarChart = new Chart(ctx, {
	    type: 'radar',
	    data: data,
	    options: options
	});
		s
		</script>
	   <!-- 메인   -->	
       <div style="width:100%;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> 
       
       	  <!-- 큰줄 1  -->
       	  <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between;">  
       	  	<!-- 아이템 -->
       	  	<div style="width:100%;height:auto;display: flex;flex-direction: row;justify-content: flex-start;padding: 8px;">        	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;margin-right: 15px;"> <!-- 이미지 coloum -->
       	  			<div><img src="/images/skin_share/wrinkle_icon.png" style="width: 60px;height:60px;">
       	  			</div>
       	  			<div></div>
       	  		</div>
       	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> <!-- 점수 coloum -->
       	  		<div style="font-size: 18px;color: #292726;">주름&nbsp;&nbsp;<b th:text="*{wrinkle}">80</b><b>점</b><b style="color: grey ;">&nbsp;/&nbsp;100.0점</b></div>
       	  		<div style="font-size: 12px;color: #AFAFAF; margin-right:7px;" ><b th:text="*{wrinkleComment}">주름에 관심을 가져야 할 시기에요. 꾸준한 보습관리와 자외선차단제 사용은 주름개선에 필수에요. 안티에이징 화장품, 탄력관리, 미용디바이스, 보톡스 시술 등 내 피부에 맞게 적절히 사용하시길 추천해요. </b></div>
       	  		</div>
       	  	</div>
       	  </div> <!-- 큰줄1 end  -->
       	  <!-- 선 --> <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between; background-color:#E1E1E1; height:1.5px;"></div>
       	   <!-- 큰줄 2  -->
       	  <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between;">  
       	  	<!-- 아이템 -->
       	  	<div style="width:100%;height:auto;display: flex;flex-direction: row;justify-content: flex-start;padding: 8px;">        	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;margin-right: 15px;"> <!-- 이미지 coloum -->
       	  			<div><img src="/images/skin_share/pigment_icon.png" style="width: 60px;height:60px;">
       	  			</div>
       	  			<div></div>
       	  		</div>
       	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> <!-- 점수 coloum -->
       	  		<div style="font-size: 18px;color: #292726;">색소침착&nbsp;&nbsp;<b th:text="*{pigment}">80</b><b>점</b><b style="color: grey ;">&nbsp;/&nbsp;100.0점</b></div>
       	  		<div style="font-size: 12px;color: #AFAFAF; margin-right:7px;" ><b th:text="*{pigmentComment}">주름에 관심을 가져야 할 시기에요. 꾸준한 보습관리와 자외선차단제 사용은 주름개선에 필수에요. 안티에이징 화장품, 탄력관리, 미용디바이스, 보톡스 시술 등 내 피부에 맞게 적절히 사용하시길 추천해요. </b></div>
       	  		</div>
       	  	</div>
       	  </div> <!-- 큰줄2 end  -->
       	  <!-- 선 --> <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between; background-color:#E1E1E1; height:1.5px;"></div>
       	  
       	  	   <!-- 큰줄 2  -->
       	  <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between;">  
       	  	<!-- 아이템 -->
       	  	<div style="width:100%;height:auto;display: flex;flex-direction: row;justify-content: flex-start;padding: 8px;">        	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;margin-right: 15px;"> <!-- 이미지 coloum -->
       	  			<div><img src="/images/skin_share/trouble_icon.png" style="width: 60px;height:60px;">
       	  			</div>
       	  			<div></div>
       	  		</div>
       	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> <!-- 점수 coloum -->
       	  		<div style="font-size: 18px;color: #292726;">트러블&nbsp;&nbsp;<b th:text="*{trouble}">80</b><b>점</b><b style="color: grey ;">&nbsp;/&nbsp;100.0점</b></div>
       	  		<div style="font-size: 12px;color: #AFAFAF; margin-right:7px;" ><b th:text="*{troubleComment}">주름에 관심을 가져야 할 시기에요. 꾸준한 보습관리와 자외선차단제 사용은 주름개선에 필수에요. 안티에이징 화장품, 탄력관리, 미용디바이스, 보톡스 시술 등 내 피부에 맞게 적절히 사용하시길 추천해요. </b></div>
       	  		</div>
       	  	</div>
       	  </div> <!-- 큰줄2 end  -->
       	  <!-- 선 --> <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between; background-color:#E1E1E1; height:1.5px;"></div>
       	  	   <!-- 큰줄 2  -->
       	  <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between;">  
       	  	<!-- 아이템 -->
       	  	<div style="width:100%;height:auto;display: flex;flex-direction: row;justify-content: flex-start;padding: 8px;">        	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;margin-right: 15px;"> <!-- 이미지 coloum -->
       	  			<div><img src="/images/skin_share/pore_icon.png" style="width: 60px;height:60px;">
       	  			</div>
       	  			<div></div>
       	  		</div>
       	  		
       	  		<div style="width:auto; height:auto; display: flex; flex-direction:column; justify-content: flex-start;"> <!-- 점수 coloum -->
       	  		<div style="font-size: 18px;color: #292726;">모공&nbsp;&nbsp; <b th:text="*{pore}">80</b><b>점</b><b style="color: grey ;">&nbsp;/&nbsp;100.0점</b></div>
       	  		<div style="font-size: 12px;color: #AFAFAF; margin-right:7px;" ><b th:text="*{poreComment}">주름에 관심을 가져야 할 시기에요. 꾸준한 보습관리와 자외선차단제 사용은 주름개선에 필수에요. 안티에이징 화장품, 탄력관리, 미용디바이스, 보톡스 시술 등 내 피부에 맞게 적절히 사용하시길 추천해요. </b></div>
       	  		</div>
       	  	</div>
       	  </div> <!-- 큰줄2 end  -->
       	  <!-- 선 --> <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between; background-color:#E1E1E1; height:1.5px;"></div>
       	  	   <!-- 큰줄 2  -->
       	  <div style="width:100%;display: flex;flex-direction: row;justify-content: space-between;">  
       	  	<!-- 아이템 -->
       	  	<div style="width:100%;height:auto;display: flex;flex-direction: row;justify-content: flex-start;padding: 8px;">        	  		
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;margin-right: 15px;"> <!-- 이미지 coloum -->
       	  			<div><img src="/images/skin_share/redness_icon.png" style="width: 60px;height:60px;">
       	  			</div>
       	  			<div></div>
       	  		</div>
       	  		 
       	  		<div style="width:auto;height:auto;display: flex;flex-direction: column;justify-content: flex-start;"> <!-- 점수 coloum -->
       	  		<div style="font-size: 18px; color: #292726;">홍조&nbsp;&nbsp;<b th:text="*{redness}">80</b><b>점</b><b style="color: grey ;">&nbsp;/&nbsp;100.0점</b></div>
       	  		<div style="font-size: 12px; color: #AFAFAF; margin-right:7px;" ><b th:text="*{rednessComment}">
    	  			주름에 관심을 가져야 할 시기에요. 꾸준한 보습관리와 자외선차단제 사용은 주름개선에 필수에요. 안티에이징 화장품, 탄력관리, 미용디바이스, 보톡스 시술 등 내 피부에 맞게 적절히 사용하시길 추천해요. </b></div>
       	  		</div>
       	  	</div>
       	  </div> <!-- 큰줄2 end  -->
       	  
       </div> <!-- 메인 end  -->
     </div>
     
     <div style="width:100%;height:20px;display: flex;flex-direction: row;justify-content: space-between;">
     </div>
     
     
     <!-- 피부 분석 버튼  -->
     <div style="width:100%; height:auto; display: flex; flex-direction: row; justify-content: flex-start; padding-left: 10px; padding-right: 10px;">
     	<div style="width:100%; height:auto; display: flex; flex-direction: row; justify-content: center; padding: 15px; background: #FF8C6B;" onClick="goApp()">
     		<p style="font-size: 14px;color: #ffffff;margin: 0;">피부분석 하러 가기</p>
     	</div>
     </div>
     </div>
  </form>
        
</th:block>
</html>

